import { GetServerSideProps } from "next";
import Router from "next/router";
import prisma from "../../lib/prisma";
import Song from "../../components/Song";
import { getSession, useSession } from "next-auth/react";
import styles from "./index.module.css"

export const getServerSideProps: GetServerSideProps = async ({ res, req }) => {
  const session = await getSession({ req });
  if (!session) {
    res.statusCode = 403;
    return { props: { data: [] } };
  } else {
    const data = await prisma.data.findMany();
    return { props: { data } };
  }
};

type Props = {
};

const {{titleCase name}} = ({}: Props) => {
  const { data: session, status } = useSession();

  if (status !== "loading") {
    if (!session) {
      return (
        <div></div>
      );
    }
    return (
      <div></div>
    );
  }
};

export default {{titleCase name}};
